using UnityEngine;

public class HelathWithInvulnerability : Health
{
    private bool invulnerable = false;
    [SerializeField] private float invulnerabilityFrames = .1f;
    private float invulnerabilityClock = 0;

    private void Update()
    {
        if(invulnerable)
        {
            invulnerabilityClock -= Time.deltaTime;

            if(invulnerabilityClock < 0)
                invulnerable = false;
        }
    }

    public override void TakeDamage(int damageAmount)
    {
        if(!invulnerable)
        {
            invulnerable = true;
            invulnerabilityClock = invulnerabilityFrames;
            base.TakeDamage(damageAmount);
        }
    }
}
